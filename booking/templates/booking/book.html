{% extends 'booking/base.html' %}

{% block content %}
<div class="card" style="max-width: 600px; margin: 0 auto;">
    <h2>Book Ticket</h2>
    <div style="background: #f3f4f6; padding: 1rem; border-radius: 4px; margin: 1rem 0;">
        <h3>{{ bus.bus_name }} ({{ bus.bus_number }})</h3>
        <p><strong>Route:</strong> {{ bus.source }} → {{ bus.destination }}</p>
        <p><strong>Date:</strong> {{ date }}</p>
        <p><strong>Departure:</strong> {{ bus.departure_time }}</p>
        <p><strong>Available Seats:</strong> {{ available_seats }}</p>
        <p><strong>Price per Seat:</strong> ₹{{ bus.price }}</p>
    </div>
    
    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            <label>Number of Seats</label>
            {{ form.seats_booked }}
        </div>
        <div class="form-group">
            <label>Passenger Name</label>
            {{ form.passenger_name }}
        </div>
        <div class="form-group">
            <label>Phone Number</label>
            {{ form.passenger_phone }}
        </div>
        <button type="submit" class="btn btn-success" style="width: 100%;">Confirm Booking</button>
    </form>
    <a href="{% url 'search_buses' %}?date={{ date }}" 
       style="display: inline-block; margin-top: 1rem;">← Back to Search</a>
</div>
{% endblock %}